# Flower Delivery - итоговый проект "Программист на Python с нуля" от Zerocoder

## Описание проекта

**Razonova Final Project** — это система для доставки цветов, построенная с использованием Django. Она включает несколько приложений для управления заказами, 
пользователями, каталогом товаров и аналитикой. Пользователи могут просматривать товары, оформлять заказы и отслеживать статус своих заказов через Telegram-бота. 
Администраторы могут управлять заказами и просматривать отчеты о продажах и популярности товаров.

## Стек технологий

- **Django** — фреймворк для создания веб-приложений.
- **SQLite** — база данных.
- **Python** — язык программирования.
- **aiogram** — библиотека для создания Telegram-ботов.
- **Aiohttp** — для обработки HTTP-запросов в асинхронном режиме.
- **LocalTunnel** — для создания публичных URL для вебхуков.

## Структура проекта

Привведена в файле Project_structure.txt

## Установка и настройка

### 1. Клонирование репозитория

Клонируйте репозиторий с проектом:

git clone <URL вашего репозитория>
cd Rozanova_final_project

2. Создание виртуального окружения
Создайте и активируйте виртуальное окружение:

python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate  # для Windows

3. Установка зависимостей
Установите все зависимости:

pip install -r requirements.txt

4. Применение миграций
Примените миграции для создания базы данных:

python manage.py migrate
5. Запуск сервера

python manage.py runserver

Откройте браузер и перейдите по адресу: http://127.0.0.1:8000/.

### Описание моделей
#### Модели пользователей (users/models.py)

User — модель пользователя с дополнительными полями: phone, address, telegram_id.
Profile — модель профиля пользователя с дополнительным полем telegram_id.

#### Модели заказов (orders/models.py)

Order — модель для хранения информации о заказе, включая статус, уникальный ключ и информацию о доставке.
OrderItem — модель для товаров в заказе с указанием количества.
OrderStatusHistory — история изменения статуса заказа.

#### Модели товаров (catalog/models.py)

Product — модель для хранения информации о товаре (например, название, цена).

### Основные функции

Регистрация и авторизация
/register — страница регистрации пользователя.
/login — страница входа пользователя.
/logout — выход из системы.

Заказы
/checkout — оформление заказа.
/order_success — страница успеха после оформления заказа с указанием уникального ключа.
/order_list — список заказов для администратора.
/order_update — обновление статуса заказа.

Telegram-бот
/start — приветствие и инструкции по использованию.
/status <unique_key> — получение статуса заказа по уникальному ключу.

Аналитика
/analytics_report — отчет о популярности товаров, доходах по статусам заказов, и количество заказов по дням.
/order_report — отчет по заказам с фильтрацией и пагинацией.
/export_analytics_csv — экспорт аналитики в CSV файл.

## Лицензия
Проект распространяется под лицензией MIT.
